(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{336:function(t,e,n){},384:function(t,e,n){"use strict";var r=n(336);n.n(r).a},467:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),o=n(14),s=n(308);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var c={components:{BasicEdit:function(){return n.e(2).then(n.bind(null,504))},ElUpload:function(){return n.e(0).then(n.t.bind(null,274,7))}},inheritAttrs:!1,props:{request:{type:Object,required:!0}},data:function(){return{loading:!1}},computed:{listeners:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.$listeners,{submit:this.onSubmit})}},methods:{onSubmit:function(){var t=this,e=this.$refs.upload.uploadFiles,n=new FormData;this.loading=!0,e.forEach(function(t){n.append("files[]",t.raw,t.name)}),s.a.fetchStore(this.request.id,n).then(function(e){var n=e.data;t.$emit("files-upload",n.request_files),t.$emit("close")}).catch(function(e){var n=e.response.data,r=t.$refs.upload.uploadFiles;if(Object(o.d)(n.errors)&&Object(o.b)(r)){var i=Object.keys(n.errors);r.forEach(function(e,n){i.includes(e.name)||t.$delete(r,n)})}}).finally(function(){t.loading=!1})}}},l=(n(384),n(98)),u=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-edit",t._g(t._b({attrs:{title:t.request.title,loading:t.loading}},"basic-edit",t.$attrs,!1),t.listeners),[n("el-upload",{ref:"upload",attrs:{"auto-upload":!1,drag:"",multiple:"",action:""}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("\n      Перетягніть файл сюди або "),n("em",[t._v("натисніть, щоб завантажити")])]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n      файл повинен мати не більше 20мб.\n    ")])])],1)},[],!1,null,"5c8ce4a9",null);e.default=u.exports}}]);