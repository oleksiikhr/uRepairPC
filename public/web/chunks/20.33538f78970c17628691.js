(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{341:function(t,e,n){},389:function(t,e,n){"use strict";var i=n(341);n.n(i).a},488:function(t,e,n){"use strict";n.r(e);var i=n(3),r=n.n(i),o=n(14),a=n(309),s=n(102);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var c={components:{BasicEdit:function(){return n.e(2).then(n.bind(null,504))},ElUpload:function(){return n.e(0).then(n.t.bind(null,274,7))}},inheritAttrs:!1,props:{equipment:{type:Object,required:!0}},data:function(){return{loading:!1}},computed:{listeners:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.$listeners,{submit:this.onSubmit})},equipmentObj:function(){return new s.a(this.equipment)}},methods:{onSubmit:function(){var t=this,e=this.$refs.upload.uploadFiles,n=new FormData;this.loading=!0,e.forEach(function(t){n.append("files[]",t.raw,t.name)}),a.a.fetchStore(this.equipment.id,n).then(function(e){var n=e.data;t.$emit("files-upload",n.equipment_files),t.$emit("close")}).catch(function(e){var n=e.response.data,i=t.$refs.upload.uploadFiles;if(Object(o.d)(n.errors)&&Object(o.b)(i)){var r=Object.keys(n.errors);i.forEach(function(e,n){r.includes(e.name)||t.$delete(i,n)})}}).finally(function(){t.loading=!1})}}},l=(n(389),n(98)),p=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-edit",t._g(t._b({attrs:{title:t.equipmentObj.title,loading:t.loading}},"basic-edit",t.$attrs,!1),t.listeners),[n("el-upload",{ref:"upload",attrs:{"auto-upload":!1,drag:"",multiple:"",action:""}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("\n      Перетягніть файл сюди або "),n("em",[t._v("натисніть, щоб завантажити")])]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n      файл повинен мати не більше 20мб.\n    ")])])],1)},[],!1,null,"efa69264",null);e.default=p.exports}}]);