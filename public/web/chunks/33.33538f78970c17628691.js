(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{266:function(e,t,n){"use strict";n.r(t);var i=n(52),r=n.n(i),l=n(3),o=n.n(l),a=n(111),s=n(300),u=n(0),c=n(74),d=n(99);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){o()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={components:{BasicEdit:function(){return n.e(2).then(n.bind(null,504))},GenerateForm:function(){return n.e(1).then(n.bind(null,438))},ElFormItem:function(){return n.e(0).then(n.t.bind(null,273,7))},ElUpload:function(){return n.e(0).then(n.t.bind(null,274,7))},ElButton:function(){return n.e(0).then(n.t.bind(null,247,7))},ElAlert:function(){return n.e(0).then(n.t.bind(null,276,7))}},inheritAttrs:!1,data:function(){return{required:s.c,loadingFetch:!1,form:{name:{component:function(){return n.e(0).then(n.t.bind(null,56,7))},value:"",label:"Назва",rules:s.c},short_name:{component:function(){return n.e(0).then(n.t.bind(null,56,7))},value:"",label:"Коротке ім'я",rules:s.c},orientation:{component:function(){return n.e(7).then(n.bind(null,500))},value:"",label:"Орієнтаця",rules:s.c,attrs:{items:[{label:"Any",value:"any"},{label:"Landscape",value:"landscape"},{label:"Portrait",value:"portrait"}]}},display:{component:function(){return n.e(7).then(n.bind(null,500))},value:"",label:"Режим відображення",rules:s.c,attrs:{items:[{label:"Fullscreen",value:"fullscreen"},{label:"Standalone",value:"standalone"},{label:"Minimal-ui",value:"minimal-ui"},{label:"Browser",value:"browser"}]}},background_color:{component:function(){return n.e(0).then(n.t.bind(null,277,7))},value:"",label:"Колір фону",rules:s.c},theme_color:{component:function(){return n.e(0).then(n.t.bind(null,277,7))},value:"",label:"Колір теми",rules:s.c},upload_icons:{value:[],hide:!0},remove_icons:{value:[],hide:!0}}}},computed:m({},Object(c.c)({settings:function(e){return e.settings.manifest.data},loading:function(e){return e.settings.manifest.loading},init:function(e){return e.settings.manifest.init}}),{listeners:function(){var e=this;return m({},this.$listeners,{submit:function(){e.$refs.form.onSubmit()}})},title:function(){return d.a[u.a.settings].children[u.a.settingsManifest].title}}),watch:{settings:{handler:function(e){var t=this,n=Object.assign({},e,{icons:void 0});Object.entries(n).forEach(function(e){var n=r()(e,2),i=n[0],l=n[1];t.form[i]&&t.$set(t.form[i],"value",l)})},immediate:!0}},mounted:function(){this.init&&this.$store.dispatch("settings/fetchManifest")},methods:{fetchRequest:function(e){var t=this,n=new FormData;this.loadingFetch=!0,Object.entries(e).forEach(function(e){var t=r()(e,2),i=t[0],l=t[1];n.append(i,l)}),n.delete("remove_icons"),e.remove_icons.forEach(function(e){return n.append("remove_icons[]",e)}),n.delete("upload_icons"),this.$refs.upload.uploadFiles.forEach(function(e){return n.append("upload_icons[]",e.raw)}),a.a.fetchStore(n).then(function(){t.$emit("store"),t.$emit("close")}).finally(function(){t.loadingFetch=!1})},onClickRemoveIcon:function(e){this.form.remove_icons.value.push(e)}}},b=n(98),v=Object(b.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-edit",e._g(e._b({attrs:{title:e.title,loading:e.loadingFetch}},"basic-edit",e.$attrs,!1),e.listeners),[n("generate-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading||e.init,expression:"loading || init"}],ref:"form",attrs:{form:e.form},on:{submit:e.fetchRequest}},[n("el-form-item",{attrs:{prop:"upload_icons.value",label:"Іконки"}},[n("el-alert",{staticClass:"mb-10",attrs:{title:"Інформація",type:"warning"}},[n("ul",[n("li",[e._v("Для встановлення сайту на робочий стол, необхідний хоча б один файл на 192x192 і формату .PNG")]),e._v(" "),n("li",[e._v("Для оптимізації зображения, завантажте файл, який більше 512px")])])]),e._v(" "),n("el-upload",{ref:"upload",attrs:{"auto-upload":!1,accept:"image/jpeg, image/jpg, image/png",drag:"",multiple:"",action:""}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("\n          Перетягніть файл сюди або "),n("em",[e._v("натисніть, щоб завантажити")])]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n          файл повинен мати не більше 1мб.\n        ")])])],1),e._v(" "),e._l(e.settings.icons,function(t,i){return n("div",{key:i,staticClass:"mb-20"},[n("el-button",{attrs:{type:"danger",size:"mini",disabled:e.form.remove_icons.value.includes(t.src)},on:{click:function(n){return e.onClickRemoveIcon(t.src)}}},[e._v("\n        Видалити - "+e._s(t.type)+", "+e._s(t.sizes)+"\n      ")])],1)})],2)],1)},[],!1,null,null,null);t.default=v.exports},300:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return l});var i=[{required:!0,message:"Будь ласка, введіть E-mail"},{type:"email",message:"Введіть правильну адресу електронної пошти"}],r=[{required:!0,message:"Будь ласка, введіть пароль"},{min:6,message:"Пароль повинен бути більше, ніж 5 символів"}],l=[{required:!0,message:"Будь ласка, введіть дані"}]}}]);